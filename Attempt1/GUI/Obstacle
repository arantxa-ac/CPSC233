import java.util.Random;

import javafx.scene.image.Image;
import javafx.scene.layout.Pane;
import javafx.util.Duration;

public class Obstacle extends Sprite {
	
	
	private final int HITBOXSIZE = 95;
	private final Image IMAGE = new Image("single_big_cactus.png");
    private final int COUNT = 1;
    private final int COLUMNS = 1;
    private final int OFFSET_X = 0;
    private final int OFFSET_Y = 0;
    private final int WIDTH = 22;
    private final int HEIGHT = 46;
    private final int MILLISDURATION = 600;
    
	// layer determines the sprites placement on the screen
	// image is the sprite image used
	// x = the x coordinate where the sprite will be located on the screen
	// y = the y coordinate where the sprite will be located on the screen
    private Pane layer;
    private int x;
    private int y;
  //rate new obstacles get generated
    private final int RATE = 5;

	//x should equal width so the obstacle spawns at the end of the GUI
	//y should equal...the ideal height for the cactus to spawn
	public Obstacle(Pane layer, Image image, int x, int y) {
		super(layer, image, x, y);
		hitbox(this.HITBOXSIZE);
		animate(IMAGE, Duration.millis(MILLISDURATION), COUNT, COLUMNS, OFFSET_X, OFFSET_Y, WIDTH, HEIGHT);		// TODO Auto-generated constructor stub
	}
	
	public Obstacle generateObstacle() {
		Random rand = new Random();
		int generate = rand.nextInt(this.RATE);
		if(generate == 0)
			return new Obstacle(layer, IMAGE, x, y);
		else
			return null;
	}

}
